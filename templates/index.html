<h2>Shopkeeper</h2>

<form method="get">
    <select name="store" required>
        <option value="">Select Store</option>
        {% for s in stores %}
        <option value="{{ s }}" {% if s == selected_store %}selected{% endif %}>{{ s }}</option>
        {% endfor %}
    </select>
    <button>Select</button>
</form>

{% if selected_store %}
<hr>

<form method="post">
    <input type="hidden" name="store" value="{{ selected_store }}">

    <select name="category" required>
        {% for c in categories %}
        <option>{{ c }}</option>
        {% endfor %}
    </select>

    <input name="product" placeholder="Product" required>
    <input name="quantity" type="number" required>
    <input name="entered_by" placeholder="Entered by" required>

    <button>Add</button>
</form>

<h3>{{ selected_store }} Inventory</h3>

<table border="1">
<tr>
    <th>Date</th><th>Category</th><th>Product</th><th>Qty</th><th>Entered By</th>
</tr>
{% for p in products %}
<tr>
    <td>{{ p[1] }}</td>
    <td>{{ p[2] }}</td>
    <td>{{ p[3] }}</td>
    <td>{{ p[4] }}</td>
    <td>{{ p[5] }}</td>
</tr>
{% endfor %}
</table>
{% endif %}

<hr>
<a href="/supervisor">Supervisor</a> |
<a href="/stores">Manage Stores</a> |
<a href="/categories">Manage Categories</a>
