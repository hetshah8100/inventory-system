<!DOCTYPE html>
<html>
<head>
    <title>Shopkeeper</title>
</head>
<body>

<h1>Shopkeeper</h1>

<form method="get">
    <select name="store">
        <option value="">Select Store</option>
        {% for store in stores %}
            <option value="{{ store }}" {% if store == selected_store %}selected{% endif %}>
                {{ store }}
            </option>
        {% endfor %}
    </select>
    <button type="submit">Select</button>
</form>

<hr>

{% if selected_store %}
<form method="post">
    <input type="hidden" name="store" value="{{ selected_store }}">

    <select name="category" required>
        {% for cat in categories %}
            <option value="{{ cat }}">{{ cat }}</option>
        {% endfor %}
    </select>

    <input type="text" name="product" placeholder="Product" required>
    <input type="number" name="quantity" placeholder="Qty" required>
    <input type="text" name="entered_by" placeholder="Entered by" required>

    <button type="submit">Add</button>
</form>

<h3>{{ selected_store }} Inventory</h3>

<table border="1" cellpadding="5">
    <tr>
        <th>Date</th>
        <th>Category</th>
        <th>Product</th>
        <th>Qty</th>
        <th>Entered By</th>
    </tr>

    {% for p in products %}
    <tr>
        <td>{{ p[0] }}</td>   <!-- date -->
        <td>{{ p[1] }}</td>   <!-- category -->
        <td>{{ p[2] }}</td>   <!-- product -->
        <td>{{ p[3] }}</td>   <!-- quantity -->
        <td>{{ p[4] }}</td>   <!-- entered_by -->
    </tr>
    {% endfor %}
</table>
{% endif %}

<hr>

<a href="/supervisor">Supervisor</a> |
<a href="/stores">Manage Stores</a> |
<a href="/categories">Manage Categories</a>

</body>
</html>
