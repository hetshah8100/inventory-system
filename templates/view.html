<!DOCTYPE html>
<html>
<body>

<h2>Supervisor – Inventory</h2>

<form method="get">
    Filter by Category:
    <select name="category" onchange="this.form.submit()">
        <option value="ALL"
            {% if selected_category == "ALL" %}selected{% endif %}>
            All Categories
        </option>

        {% for c in categories %}
            <option value="{{ c[0] }}"
                {% if selected_category == c[0] %}selected{% endif %}>
                {{ c[0] }}
            </option>
        {% endfor %}
    </select>
</form>

<br>

<!-- CLEAR ALL BUTTON -->
<form action="/clear_inventory"
      method="get"
      onsubmit="return confirm('Shopping completed? This will delete ALL items.')">
    <button type="submit"
            style="background:red;color:white;padding:8px;">
        Shopping Completed – Clear All Items
    </button>
</form>

<br><br>

<table border="1" cellpadding="6">
<tr>
    <th>Date</th>
    <th>Store</th>
    <th>Category</th>
    <th>Product</th>
    <th>Qty</th>
    <th>Entered By</th>
    <th>Actions</th>
</tr>

{% for r in rows %}
<tr>
    <td>{{ r[1] }}</td>
    <td>{{ r[2] }}</td>
    <td>{{ r[4] }}</td>
    <td>{{ r[3] }}</td>
    <td>{{ r[5] }}</td>
    <td>{{ r[6] }}</td>
    <td>
        <a href="/edit/{{ r[0] }}">Edit</a> |
        <a href="/delete/{{ r[0] }}"
           onclick="return confirm('Delete this item?')">
           Delete
        </a>
    </td>
</tr>
{% endfor %}
</table>

<br>
<a href="/">Back to Shopkeeper</a>

</body>
</html>
