<!DOCTYPE html>
<html>
<head>
    <title>Supervisor Panel</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">

</head>
<body>

<h2>Supervisor Inventory</h2>

<!-- NAVIGATION LINKS -->
<p>
  <a href="{{ url_for('manage_categories') }}">ğŸ“‚ Manage Categories</a>
  &nbsp; | &nbsp;
  <a href="{{ url_for('manage_stores') }}">ğŸ¬ Manage Stores</a>
</p>
<hr>

<!-- CATEGORY FILTER (AUTO APPLY, NO BUTTON) -->
<form method="get" action="{{ url_for('supervisor') }}">
    <label>Filter by Category:</label>
    <select name="category" onchange="this.form.submit()">
        <option value="All" {% if selected_category == "All" %}selected{% endif %}>All</option>
        {% for c in categories %}
        <option value="{{ c }}" {% if selected_category == c %}selected{% endif %}>
            {{ c }}
        </option>
        {% endfor %}
    </select>
</form>

<br>

<table border="1" cellpadding="6">
    <tr>
        <th>Date</th>
        <th>Store</th>
        <th>Category</th>
        <th>Product</th>
        <th>Qty</th>
        <th>Entered By</th>
        <th>Actions</th>
    </tr>

    {% for p in products %}
    <tr>
        <td>{{ p[1] }}</td>
        <td>{{ p[2] }}</td>
        <td>{{ p[3] }}</td>
        <td>{{ p[4] }}</td>
        <td>{{ p[5] }}</td>
        <td>{{ p[6] }}</td>
        <td>
            <a href="{{ url_for('edit_product', pid=p[0]) }}">âœï¸ Edit</a>
            |
            <a href="{{ url_for('delete_product', pid=p[0]) }}"
               onclick="return confirm('Delete this product?')">âŒ Delete</a>
        </td>
    </tr>
    {% endfor %}
</table>

<br>

<a href="{{ url_for('clear_inventory') }}"
   onclick="return confirm('Clear all inventory?')">ğŸ§¹ Clear All Inventory</a>

<br><br>

<a href="{{ url_for('shopkeeper') }}">â† Back to Shopkeeper</a>

</body>
</html>
